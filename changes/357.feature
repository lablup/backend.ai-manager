Add support for Harbor v2 and generalize internal abstractions of container registries, making it easier to add new registries in the future
